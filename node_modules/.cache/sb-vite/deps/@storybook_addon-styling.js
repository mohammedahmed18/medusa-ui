import {
  require_preview_api
} from "./chunk-SAH4R37F.js";
import {
  require_react
} from "./chunk-CCB3S7PM.js";
import {
  __toESM
} from "./chunk-AUZ3RYOM.js";

// node_modules/@storybook/addon-styling/dist/index.mjs
var import_preview_api = __toESM(require_preview_api(), 1);
var import_react = __toESM(require_react(), 1);
var y = Object.defineProperty;
var D = (e, t) => {
  for (var r in t)
    y(e, r, { get: t[r], enumerable: true });
};
var S = {};
D(S, { initializeThemeState: () => h, pluckThemeFromContext: () => c, useThemeParameters: () => T });
var _ = "@storybook/addon-styling";
var C = `${_}/theme-switcher`;
var g = "theming";
var l = "theme";
var x = {};
var R = { REGISTER_THEMES: `${C}/REGISTER_THEMES` };
function c({ globals: e }) {
  return e[l] || "";
}
function T() {
  return (0, import_preview_api.useParameter)(g, x);
}
function h(e, t) {
  import_preview_api.addons.getChannel().emit(R.REGISTER_THEMES, { defaultTheme: t, themes: e });
}
var M = "html";
var A = (e) => e.split(" ").filter(Boolean);
var G = ({ themes: e, defaultTheme: t, parentSelector: r = M }) => (h(Object.keys(e), t), (o, p) => {
  let { themeOverride: s } = T(), n = c(p);
  return (0, import_preview_api.useEffect)(() => {
    let i = s || n || t, m = document.querySelector(r);
    Object.entries(e).filter(([u]) => u !== i).forEach(([u, f]) => {
      let E = A(f);
      E.length > 0 && m.classList.remove(...E);
    });
    let a = A(e[i]);
    a.length > 0 && m.classList.add(...a);
  }, [s, n, r]), o();
});
var O = "html";
var k = "data-theme";
var V = ({ themes: e, defaultTheme: t, parentSelector: r = O, attributeName: o = k }) => (h(Object.keys(e), t), (p, s) => {
  let { themeOverride: n } = T(), i = c(s);
  return (0, import_preview_api.useEffect)(() => {
    let m = document.querySelector(r), a = n || i || t;
    m.setAttribute(o, e[a]);
  }, [n, i, r, o]), p();
});
var H = ([e, t]) => t;
var Q = ({ Provider: e, GlobalStyles: t, defaultTheme: r, themes: o = {} }) => {
  let p = Object.keys(o), s = r || p[0];
  return h(p, s), (n, i) => {
    let { themeOverride: m } = T(), a = c(i), u = (0, import_preview_api.useMemo)(() => {
      let f = m || a || s, E = Object.entries(o);
      return E.length === 1 ? H(E[0]) : o[f];
    }, [o, a, m]);
    return e ? import_react.default.createElement(e, { theme: u }, t && import_react.default.createElement(t, null), n()) : import_react.default.createElement(import_react.default.Fragment, null, t && import_react.default.createElement(t, null), n());
  };
};
var ne = {};
export {
  S as DecoratorHelpers,
  ne as default,
  G as withThemeByClassName,
  V as withThemeByDataAttribute,
  Q as withThemeFromJSXProvider
};
//# sourceMappingURL=@storybook_addon-styling.js.map
